;;; -*- mode: Lisp; coding: utf-8-unix -*-

(require "cpu/bacaw/isa")

(in-package :repl)

(define-isa bacaw-isa
    (:NOP (0 0))
  (:NOT (0 1))
  (:OR (0 2))
  (:XOR (0 3))
  (:AND (0 4))
  (:BSL ( 0 5))
  (:INT (#x0 #x7))
  (:HALT (0 8))
  (:NEG (0 9))
  (:RTI (0 12))
  (:BSR (0 13))
  (:CLS (0 #xE))
  (:INT (#x0 #xF))
  (:INC (#x1) :ulong)
  (:ADDI (#x2 #x1))
  (:MODI (#x2 #x8))
  (:SUBI (#x2 #x9))
  (:MULI (#x2 #x2))
  (:POWI (#x2 #x4))
  (:DIVI (#x2 #xa))
  (:CONVI (#x2 #xb))
  (:ROOTI (#x2 #xc))
  (:LOGI (#x2 #xd))
  (:CMPI (#x2 0))
  (:ADDU (#x3 #x1))
  (:MODU (#x3 #x8))
  (:SUBU (#x3 #x9))
  (:MULU (#x3 #x2))
  (:POWU (#x3 #x4))
  (:DIVU (#x3 #xa))
  (:CONVU (#x3 #xb))
  (:ROOTU (#x3 #xc))
  (:LOGU (#x3 #xd))
  (:CMPU (#x3 0))
  (:ADDF (#x4 #x1))
  (:SUBF (#x4 #x9))
  (:MULF (#x4 #x2))
  (:DIVF (#x4 #xa))
  (:CONVF (#x4 #xb))
  (:ROOTF (#x4 #xc))
  (:LOGF (#x4 #xd))
  (:CMPF (#x4 0))
  (:CEIL (#x4 #x6))
  (:LOAD (#x5) :long)
  (:POP (#x6))
  (:CIE (#x7 #x0))
  (:CALL (#x7 #x7) :ulong)
  (:SLEEP (#x7 #x9))
  (:SIE (#x7 #x8))
  (:RESET (#x7 #x1))
  (:RET (#x7 #xc))
  (:CALLR (#x7 #xF))
  (:MOV (#x8))
  (:DEC (#x9) :ulong)
  (:STORE (#xD) :long)
  (:PUSH (#xE)))
